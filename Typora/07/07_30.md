[TOC]

# Table Index

자주 쓰이는 필드들은 따로 저장해주자
(ex. 180개 테이블에 공통으로 사용되는 사원번호 는 st로 만들어!)
아래와 같이 실습 함.

<img src="./../img/image-20240730103049310.png" alt="image-20240730103049310" style="zoom:67%;" />
<img src="./../img/image-20240730103056229.png" alt="image-20240730103056229" style="zoom:67%;" />
위에 저장한 st type을 다른 테이블에서 사용하려면 다른 테이블로 가서 .include 해서 사용하면 된다. 이렇게 공통으로 된 필드를 사용하기 위해선 위와 같은 방법 사용

<img src="./../img/image-20240730103301315.png" alt="image-20240730103301315" style="zoom:67%;" />

KEY 필드로 선택되면 Index가 생성된다. (자동 정렬된 채로 primary index에 저장)
![image-20240730120901397](./../img/image-20240730120901397.png)
만약 Function Field를 사용해서 검색을 해야 한다면? 이에 따른 index를 새로 생성
![image-20240730121412767](./../img/image-20240730121412767.png)
![image-20240730121533570](./../img/image-20240730121533570.png)

## 실습

![image-20240730185206772](./../img/image-20240730185206772.png)

![image-20240730121758336](./../img/image-20240730121758336.png)
z01
![image-20240730121959400](./../img/image-20240730121959400.png)

# Table Buffering

![image-20240730122207546](./../img/image-20240730122207546.png)
![image-20240730122254574](./../img/image-20240730122254574.png)

![image-20240730122939455](./../img/image-20240730122939455.png)


![image-20240730122518392](./../img/image-20240730122518392.png)

모든 데이터 올려

![image-20240730122651604](./../img/image-20240730122651604.png)
LH인 CAARID를 전부 버퍼에 올려버려 ( Generic key 설정이 꼭 )

![image-20240730122835111](./../img/image-20240730122835111.png)
Single-Record Buffer : 읽으려는 데이터 딱 한건만 올림
<img src="./../img/image-20240730123238907.png" alt="image-20240730123238907" style="zoom:67%;" />
![image-20240730124245046](./../img/image-20240730124245046.png)
1번 서버와 2번 서버는 실시간 동기화 x ( 1번 서버에서 A를 삭제하면 DB에서는 삭제 되었으나 2번 서버는 A가 존재함 ) -- 동기화를 위해 Synchronization 사용

## Synchronization

![image-20240730124737033](./../img/image-20240730124737033.png)
![image-20240730124920487](./../img/image-20240730124920487.png)
![image-20240730125001508](./../img/image-20240730125001508.png)
변경이 일어날 경우 Sync. Table에 저장해둔다. 
![image-20240730125148376](./../img/image-20240730125148376.png)
![image-20240730125256693](./../img/image-20240730125256693.png)
설정한 시간에 맞춰 동기화가 이루어진다
( 1번 서버는 이미 반영되어 있기 떄문에 작업 x )
2번 서버에 데이터 삭제 , 
![image-20240730125434549](./../img/image-20240730125434549.png)

2번 서버에는 데이터가 없어졌기에 다시 DB에서 데이터 읽어들여옴
수정/삭제가 빈번하면 버퍼를 사용하지 말자

![image-20240730125716555](./../img/image-20240730125716555.png)

# Input Checks

![image-20240730144424723](./../img/image-20240730144424723.png)
입력값 유효성 체크, search help도 표시해줌

## Fixed Values

<img src="./../img/image-20240730150530402.png" alt="image-20240730150530402" style="zoom:67%;" />

## Foreign Key

: 데이터 일관성 체크
![image-20240730151437118](./../img/image-20240730151437118.png)
AA의 COUTER는 1 인데 8을 저장하려하는 거. 이건 저장할 수 없다.
![image-20240730151752662](./../img/image-20240730151752662.png)
![image-20240730151817129](./../img/image-20240730151817129.png)
![image-20240730151955728](./../img/image-20240730151955728.png)
![image-20240730152212798](./../img/image-20240730152212798.png)
FK 설정할때 아밥 시스템에서는 도메인에 있는 VALUE TABLE을 Check Table로해서 FK설정해라

<img src="./../img/image-20240730152728456.png" alt="image-20240730152728456" style="zoom:67%;" />
<img src="./../img/image-20240730153216608.png" alt="image-20240730153216608" style="zoom:67%;" />
MANDT 는 KEY 필드라 위에 라디오 버튼이 저랬던거고
KEY 필드가 아닌거 선택한거면 아래처럼 해야해
<img src="./../img/image-20240730153514631.png" alt="image-20240730153514631" style="zoom:67%;" />

![image-20240730154725540](./../img/image-20240730154725540.png)
SUBSPART가 아니라 STRAVELAG에서 FK가 만들어진다??
제안을 해주는 테이블이 아닌 다른 테이블에서 FK가 만들어질수도 있다.

# Cardinality

<img src="./../img/image-20240730155423973.png" alt="image-20240730155423973" />

Cardinality는 테이블끼리의 데이터의 관계를 나타낸다. 
ex. 회원가입만 해놓고 주문을 안한 것 == 1 : C 관계

# Text Table

![image-20240730165742471](./../img/image-20240730165742471.png)
코드 아이디 넘버로 관리되는 데이터들의 text는 (각국의 언어로) 키필드 + FK 

<img src="./../img/image-20240730170831180.png" alt="image-20240730170831180" style="zoom:67%;" />

